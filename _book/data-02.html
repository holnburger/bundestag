<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Geschlechterunterschiede im Deutschen Bundestag</title>
  <meta name="description" content="Geschlechterunterschiede im Deutschen Bundestag">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Geschlechterunterschiede im Deutschen Bundestag" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Geschlechterunterschiede im Deutschen Bundestag" />
  
  
  

<meta name="author" content="Josef Holnburger und Gina-Gabriela Görner">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-01.html">
<link rel="next" href="auswertung.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Einleitung</a></li>
<li class="chapter" data-level="2" data-path="data-01.html"><a href="data-01.html"><i class="fa fa-check"></i><b>2</b> Generelles zur Datenerhebung</a><ul>
<li class="chapter" data-level="2.1" data-path="data-01.html"><a href="data-01.html#xml-knoten-und-attribute"><i class="fa fa-check"></i><b>2.1</b> XML-Knoten und Attribute</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-02.html"><a href="data-02.html"><i class="fa fa-check"></i><b>3</b> Erhebung der Daten des 19. Bundestags</a><ul>
<li class="chapter" data-level="3.1" data-path="data-02.html"><a href="data-02.html#uberblick-der-reden"><i class="fa fa-check"></i><b>3.1</b> Überblick der Reden</a></li>
<li class="chapter" data-level="3.2" data-path="data-02.html"><a href="data-02.html#inhalte-der-reden"><i class="fa fa-check"></i><b>3.2</b> Inhalte der Reden</a></li>
<li class="chapter" data-level="3.3" data-path="data-02.html"><a href="data-02.html#daten-der-abgeordneten"><i class="fa fa-check"></i><b>3.3</b> Daten der Abgeordneten</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="auswertung.html"><a href="auswertung.html"><i class="fa fa-check"></i><b>4</b> Auswertung</a><ul>
<li class="chapter" data-level="4.1" data-path="auswertung.html"><a href="auswertung.html#lange-der-reden"><i class="fa fa-check"></i><b>4.1</b> Länge der Reden</a></li>
<li class="chapter" data-level="4.2" data-path="auswertung.html"><a href="auswertung.html#inhalte-der-reden-1"><i class="fa fa-check"></i><b>4.2</b> Inhalte der Reden</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="topic-modeling.html"><a href="topic-modeling.html"><i class="fa fa-check"></i><b>5</b> Topic Modeling</a></li>
<li class="chapter" data-level="" data-path="literatur-und-quellverzeichnis.html"><a href="literatur-und-quellverzeichnis.html"><i class="fa fa-check"></i>Literatur- und Quellverzeichnis</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Geschlechterunterschiede im Deutschen Bundestag</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-02" class="section level1">
<h1><span class="header-section-number">Kapitel 3</span> Erhebung der Daten des 19. Bundestags</h1>
<p>Leider gibt es keine Möglichkeit, die XML-Protokolle des Deutschen Bundestages gesammelt herunterzuladen. Zwar finden sich auf <em>Open Data</em>-Seite des Bundestags<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> die Verweise auf die Bundestagsprotkolle, allerdings können diese nur umständlich einezln heruntergeladen werden.
Durch das Auslesen der Netzwerkdaten nach einem Klick auf die nächsten fünf Protkolle eine Webseite gefunden werden, auf welcher jeweils fünf Protkolle gespeichert sind<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. Durch setzen des <code>offset=0</code> auf <code>5, 10, 15, 20, …</code> können wir die weiteren Protokolle abrufen.</p>
<p>Mittels <code>rvest</code> und <code>xml2</code> ziehen wir uns zunächst die Nummer des letzten Bundestagsprotokolls. Über die Funktion <code>seq()</code> und <code>paste0()</code> können wir anschließend alle für den weiteren Verlauf notwendigen URLs erstellen.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">bt_website &lt;-<span class="st"> &quot;https://www.bundestag.de/ajax/filterlist/de/service/opendata/-/543410&quot;</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">last_protocol &lt;-<span class="st"> </span>bt_website <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="st">  </span><span class="kw">xml_find_first</span>(<span class="st">&quot;//strong&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="st">  </span><span class="kw">xml_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="st">  </span><span class="kw">str_extract</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">d+&quot;</span>)</a>
<a class="sourceLine" id="cb18-8" data-line-number="8"></a>
<a class="sourceLine" id="cb18-9" data-line-number="9">prot_websites &lt;-<span class="st"> </span><span class="kw">paste0</span>(bt_website, <span class="st">&quot;?offset=&quot;</span>, <span class="kw">seq</span>(<span class="dv">0</span>, last_protocol, <span class="dv">5</span>))</a></code></pre></div>
<p>Insgesamt müssen wir also 13 Webseiten aufrufen und uns jeweils fünf Protokolle herunterladen.</p>
<p>Der Aufwand ist hier noch überschaubar. Natürlich laden wir die Protokolle dennoch nicht per Hand herunter, sondern erstellen uns hierfür ein kleines Script. Da die meisten Rechner auch mit mehr als nur einem Prozessor ausgestattet sind, können wir die Funktion auch auf mehreren Prozessoren ausführen. Wir sprechen hier von <em>multiprocessing</em>. Dies realisieren wir über das Packet <code>furrr</code> <span class="citation">(Vaughan/Dancho <a href="#ref-vaughan_2018">2018</a>)</span> - eine Abwandlung des bereits genutzten <code>purrr</code>.</p>
<p>Wir schreiben uns zunächst eine Funktion, um die Links der Webseiten zu extrahieren.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">get_prot_links &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">  x <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="st">    </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;.bt-link-dokument&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="st">    </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="st">    </span><span class="kw">paste0</span>(<span class="st">&quot;https://www.bundestag.de&quot;</span>, .)</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb19-8" data-line-number="8"></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="kw">get_prot_links</span>(bt_website)</a></code></pre></div>
<pre><code>## [1] &quot;https://www.bundestag.de/blob/578466/7430bccaf792e7bc55e84d5e64675820/19062-data.xml&quot;
## [2] &quot;https://www.bundestag.de/blob/577958/e2063c0f51a32690a269f48aa6102c1d/19061-data.xml&quot;
## [3] &quot;https://www.bundestag.de/blob/577622/da97888b713abb16ed2070836504b83a/19060-data.xml&quot;
## [4] &quot;https://www.bundestag.de/blob/575138/b5395a975d1c55838da0e52251018160/19059-data.xml&quot;
## [5] &quot;https://www.bundestag.de/blob/574826/0e3659e11c1c3cdbfa621369cd16735a/19058-data.xml&quot;</code></pre>
<p>Dies wenden wir nun auf alle 13 Webseiten an und speichern die Dateien anschließend im Ordner <code>data\protokolle</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">library</span>(furrr)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">plan</span>(multiprocess)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3"></a>
<a class="sourceLine" id="cb21-4" data-line-number="4">prot_links &lt;-<span class="st"> </span><span class="kw">future_map</span>(prot_websites, <span class="op">~</span><span class="kw">get_prot_links</span>(.)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unlist</span>()</a>
<a class="sourceLine" id="cb21-5" data-line-number="5"></a>
<a class="sourceLine" id="cb21-6" data-line-number="6">prot_links <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">future_map</span>(<span class="op">~</span><span class="kw">download.file</span>(., <span class="kw">file.path</span>(<span class="st">&quot;data/protokolle&quot;</span>, <span class="kw">basename</span>(.))))</a></code></pre></div>
<p>Wir waren erfolgreich und konnten in wenigsten Sekunden alle aktuellen Protokolle herunterladen. Wir können sie jetzt auslesen und dabei auch unsere bereits erstellten Funktionen verwenden.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">prot_files &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="st">&quot;data/protokolle&quot;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">prot_extract &lt;-<span class="st"> </span><span class="kw">map</span>(prot_files, <span class="op">~</span><span class="kw">read_html</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//rede&quot;</span>))</a>
<a class="sourceLine" id="cb22-4" data-line-number="4"></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="kw">class</span>(prot_extract) &lt;-<span class="st"> &quot;xml_nodeset&quot;</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"></a>
<a class="sourceLine" id="cb22-7" data-line-number="7">prot_overview &lt;-<span class="st"> </span><span class="kw">map_dfr</span>(prot_extract, <span class="op">~</span><span class="kw">get_overview_df</span>(.))</a></code></pre></div>
<div id="uberblick-der-reden" class="section level2">
<h2><span class="header-section-number">3.1</span> Überblick der Reden</h2>
<p>Wir konnten nun alle Dateien herunterladen und anschließend alle Protkolle in R einlesen. Mit unserer Funktion <code>get_overview_df()</code> konnten wir alle Protokolle in einen für uns passenden Datenframe umwandeln. Insgesamt können wir derzeit 5.777 Reden des aktuellen Bundestags untersuchen – etwa nach der Person, welche die meisten reden gehalten hat.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">prot_overview <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(redner_id, redner_vorname, redner_nachname,</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">           redner_fraktion, redner_rolle) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">reden =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>reden)</a></code></pre></div>
<pre><code>## # A tibble: 773 x 6
## # Groups:   redner_id, redner_vorname, redner_nachname, redner_fraktion
## #   [728]
##    redner_id redner_vorname redner_nachname redner_fraktion redner_rolle
##    &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;       
##  1 11002617  Peter          Altmaier        &lt;NA&gt;            Bundesminis…
##  2 999990073 Olaf           Scholz          &lt;NA&gt;            Bundesminis…
##  3 11004427  Volker         Ullrich         CDU/CSU         &lt;NA&gt;        
##  4 11001478  Angela         Merkel          &lt;NA&gt;            Bundeskanzl…
##  5 11004809  Heiko          Maas            &lt;NA&gt;            Bundesminis…
##  6 11004851  Frauke         Petry           fraktionslos    &lt;NA&gt;        
##  7 11004798  Alexander Graf Lambsdorff      FDP             &lt;NA&gt;        
##  8 11003625  Andreas        Scheuer         &lt;NA&gt;            Bundesminis…
##  9 999990074 Svenja         Schulze         &lt;NA&gt;            Bundesminis…
## 10 11003638  Jens           Spahn           &lt;NA&gt;            Bundesminis…
## # ... with 763 more rows, and 1 more variable: reden &lt;int&gt;</code></pre>
<p>Die Minister_innen haben am häuiigsten im Bundestag geredet, der MdB Volker Ullrich landet erst af Platz 4 mit insgesamt vierzig Reden in der aktuellen Wahlperiode. Überraschenderweise hat Frauke Petry sehr viele Reden gehalten: 35 Stück. Das sind deutlich mehr als in ihrer damaligen Zeit im Landesparlament.</p>
<p>Wir können die Reden auch nach Fraktionen auswerten:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">prot_overview <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(redner_fraktion) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">reden =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>reden) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;Reden Nach Fraktion im Deutschen Bundestag&quot;</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-18">Tabelle 3.1: </span>Reden Nach Fraktion im Deutschen Bundestag</caption>
<thead>
<tr class="header">
<th align="left">redner_fraktion</th>
<th align="right">reden</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CDU/CSU</td>
<td align="right">1353</td>
</tr>
<tr class="even">
<td align="left">SPD</td>
<td align="right">962</td>
</tr>
<tr class="odd">
<td align="left">AfD</td>
<td align="right">784</td>
</tr>
<tr class="even">
<td align="left">FDP</td>
<td align="right">683</td>
</tr>
<tr class="odd">
<td align="left">BÜNDNIS 90/DIE GRÜNEN</td>
<td align="right">662</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">662</td>
</tr>
<tr class="odd">
<td align="left">DIE LINKE</td>
<td align="right">606</td>
</tr>
<tr class="even">
<td align="left">fraktionslos</td>
<td align="right">63</td>
</tr>
<tr class="odd">
<td align="left">Bremen</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Bündnis 90/Die Grünen</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Mit auswertung der Daten nach Fraktion stellen wir kleinere Probleme fest: Anscheinend wurden die Grüne in einem Dokument nicht in der üblichen Schreibweise geschrieben. Und die Fraktion “Bremen” ist vermutlich auch in der falschen Spalte gelandet - es handelt sich nämlich um eine Rede des Bremer Bürgermeisters.
Beide ändern wir entsprechend:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">prot_overview &lt;-<span class="st"> </span>prot_overview <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">redner_fraktion =</span> <span class="kw">ifelse</span>(redner_fraktion <span class="op">==</span><span class="st"> &quot;Bündnis 90/Die Grünen&quot;, &quot;</span>BÜNDNIS <span class="dv">90</span><span class="op">/</span>DIE GRÜNEN<span class="st">&quot;, redner_fraktion)) %&gt;%</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="st">  mutate(redner_fraktion = ifelse(redner_fraktion == &quot;</span>Bremen<span class="st">&quot;, NA, redner_fraktion))</span></a></code></pre></div>
</div>
<div id="inhalte-der-reden" class="section level2">
<h2><span class="header-section-number">3.2</span> Inhalte der Reden</h2>
<p>Auch die Inhalte der Reden sollen aus allen Protokollen ausgelesen werden. Eine Auswertung erfolgt später.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">speech_extract &lt;-<span class="st"> </span><span class="kw">map</span>(prot_files, <span class="op">~</span><span class="kw">read_html</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//rede/*&quot;</span>))</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="kw">class</span>(speech_extract) &lt;-<span class="st"> &quot;xml_nodeset&quot;</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"></a>
<a class="sourceLine" id="cb27-5" data-line-number="5">prot_speeches &lt;-<span class="st"> </span><span class="kw">map_dfr</span>(speech_extract, <span class="op">~</span><span class="kw">get_speeches_df</span>(.))</a></code></pre></div>

</div>
<div id="daten-der-abgeordneten" class="section level2">
<h2><span class="header-section-number">3.3</span> Daten der Abgeordneten</h2>
<p>Wir haben nun die Reden als auch die Inhalte der Reden im Bundestag heruntergeladen. Dabei haben wir auch schon Verweise auf die Fraktionen und auch die Rollen (beispielsweise die Rede als Bundesminister_in) generieren können. Es fehlen uns jedoch noch Aussagen über das Geschlecht der Redner_innen (und weitere Daten – etwa Alter, Ausschussmitgliedschaften und Amtszeit).</p>
<p>Diese können wir abermals über das Open Data Portal<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> des Bundestags herunterladen. Es handelt sich um eine <code>ZIP</code>-Datei, welche wir zunächst herunterladen und anschließed extrahieren.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">link_zip &lt;-<span class="st"> &quot;https://www.bundestag.de/blob/472878/e207ab4b38c93187c6580fc186a95f38/mdb-stammdaten-data.zip&quot;</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="kw">download.file</span>(link_zip, <span class="kw">file.path</span>(<span class="st">&quot;data/&quot;</span>, <span class="kw">basename</span>(link_zip)))</a>
<a class="sourceLine" id="cb28-4" data-line-number="4"></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="kw">unzip</span>(<span class="st">&quot;data/mdb-stammdaten-data.zip&quot;</span>, <span class="dt">exdir =</span> <span class="st">&quot;data/&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">file_stammdaten &lt;-<span class="st"> </span><span class="kw">read_xml</span>(<span class="st">&quot;data/MDB_STAMMDATEN.XML&quot;</span>)</a></code></pre></div>
<p>Nachdem die Datei heruntergeladen und ausgelesen wurde, können wir die Daten wieder einen <em>Dataframe</em> umwandeln.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">get_data_mdb &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">  id &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//ID&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_text</span>()</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">  geschlecht &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//ID/following-sibling::BIOGRAFISCHE_ANGABEN/GESCHLECHT&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_text</span>()</a>
<a class="sourceLine" id="cb30-4" data-line-number="4">  geburtsjahr &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//ID/following-sibling::BIOGRAFISCHE_ANGABEN/GEBURTSDATUM&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_text</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.integer</span>()</a>
<a class="sourceLine" id="cb30-5" data-line-number="5">  partei &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//ID/following-sibling::BIOGRAFISCHE_ANGABEN/PARTEI_KURZ&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_text</span>()</a>
<a class="sourceLine" id="cb30-6" data-line-number="6">  wahlperioden &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_find_all</span>(<span class="st">&quot;//ID/following-sibling::WAHLPERIODEN&quot;</span>)</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb30-8" data-line-number="8">  <span class="kw">data_frame</span>(id, geschlecht, geburtsjahr, partei, wahlperioden) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">wahlperioden =</span> <span class="kw">map</span>(wahlperioden, <span class="op">~</span><span class="kw">xml_nodes</span>(., <span class="st">&quot;WP&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">xml_text</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.integer</span>())) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">anzahl_wahlperioden =</span> <span class="kw">map</span>(wahlperioden, <span class="op">~</span><span class="kw">length</span>(.)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unlist</span>())</a>
<a class="sourceLine" id="cb30-11" data-line-number="11">}</a>
<a class="sourceLine" id="cb30-12" data-line-number="12"></a>
<a class="sourceLine" id="cb30-13" data-line-number="13">data_mdb &lt;-<span class="st"> </span><span class="kw">get_data_mdb</span>(file_stammdaten)</a>
<a class="sourceLine" id="cb30-14" data-line-number="14"></a>
<a class="sourceLine" id="cb30-15" data-line-number="15">data_mdb</a></code></pre></div>
<pre><code>## # A tibble: 4,073 x 6
##    id       geschlecht geburtsjahr partei wahlperioden anzahl_wahlperioden
##    &lt;chr&gt;    &lt;chr&gt;            &lt;int&gt; &lt;chr&gt;  &lt;list&gt;                     &lt;int&gt;
##  1 11000001 männlich          1930 CDU    &lt;int [7]&gt;                      7
##  2 11000002 männlich          1909 FDP    &lt;int [5]&gt;                      5
##  3 11000003 weiblich          1913 CDU    &lt;int [3]&gt;                      3
##  4 11000004 weiblich          1933 CDU    &lt;int [2]&gt;                      2
##  5 11000005 männlich          1950 CDU    &lt;int [5]&gt;                      5
##  6 11000007 männlich          1919 SPD    &lt;int [4]&gt;                      4
##  7 11000008 männlich          1912 CDU    &lt;int [1]&gt;                      1
##  8 11000009 männlich          1876 CDU    &lt;int [5]&gt;                      5
##  9 11000010 weiblich          1944 SPD    &lt;int [4]&gt;                      4
## 10 11000011 männlich          1920 CDU    &lt;int [3]&gt;                      3
## # ... with 4,063 more rows</code></pre>
<p>Die Namen brauchen wir nicht zwingend, da wir dies auch den bestehenden Daten entnehmen können (außerdem haben wir ein kleine Problem mit Abgeordneten, welche während oder zwischen den Wahlperioden den Nachnamen ändern oder ergänzen). Wichtig ist hier die ID – mit dieser können wir die einzelnen Reden den Abgeordneten und schließich auch dem jeweiligen Geschlecht zuordnen.</p>
<p>Bei den Stammdaten handelt es sich um die Daten aller Bundestagsabgeordnetem seit dem 1. Bundestag, welcher 14. August 1949 gewählt wurde. Insgesamt waren 4.073 Personen im Bundestag vertreten. Wie viele davon weiblich und männlich waren, lässt sich wenigen Zeilen Code darstellen. Die letzten beiden Zeilen des Codes beziehen sich nur auf eine bessere Darstellung in der PDF und der Webseite.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">data_mdb <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(geschlecht) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">freq =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>n) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;Bundestagsabgeordnete aller Wahlperioden nach Geschlecht&quot;</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-25">Tabelle 3.2: </span>Bundestagsabgeordnete aller Wahlperioden nach Geschlecht</caption>
<thead>
<tr class="header">
<th align="left">geschlecht</th>
<th align="right">n</th>
<th align="right">freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">männlich</td>
<td align="right">3223</td>
<td align="right">0.7913086</td>
</tr>
<tr class="even">
<td align="left">weiblich</td>
<td align="right">850</td>
<td align="right">0.2086914</td>
</tr>
</tbody>
</table>
<p>Die große Mehrheit der im Bundestag vertretenen Person ist männlich. Nur eine Minderheit von 20,9% der Abgeordneten war oder ist weiblich. Ein nicht-binäres Geschlecht oder eine Verweigerung der Angabe des Geschlechts wurde bisher noch nicht angegeben oder nicht dokumentiert – trans- und intersexuelle Menschen sind im Bundestag somit auch weiterhin kaum vertreten.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<p>Wir können mit diesen Daten auch mit wenig aufwand die Frauenquote in den jeweiligen Wahlperioden darstellen.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">data_mdb <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="st">  </span><span class="kw">unnest</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(geschlecht, wahlperioden) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(wahlperioden) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">freq =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="st">  </span><span class="kw">rename</span>(<span class="dt">Geschlecht =</span> geschlecht) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> wahlperioden, <span class="dt">y =</span> freq, <span class="dt">colour =</span> Geschlecht)) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-10" data-line-number="10"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Geschlechteranteile im Deutschen Bundestag&quot;</span>, </a>
<a class="sourceLine" id="cb33-11" data-line-number="11">       <span class="dt">subtitle =</span> <span class="st">&quot;Auswertung des 1. bis 19. Deutschen Bundestages&quot;</span>,</a>
<a class="sourceLine" id="cb33-12" data-line-number="12">       <span class="dt">x =</span> <span class="st">&quot;Wahlperiode&quot;</span>,</a>
<a class="sourceLine" id="cb33-13" data-line-number="13">       <span class="dt">y =</span> <span class="st">&quot;Anteil in Prozent&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-14" data-line-number="14"><span class="st">  </span><span class="kw">theme_minimal</span>()</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:gender-wp-bt"></span>
<img src="bundestag_files/figure-html/gender-wp-bt-1.svg" alt="Auswertung der Geschlechteranteile aller Deutscher Bundestage" width="672" />
<p class="caption">
Abbildung 3.1: Auswertung der Geschlechteranteile aller Deutscher Bundestage
</p>
</div>
<p>Wie in Abb. <a href="data-02.html#fig:gender-wp-bt">3.1</a> zu erkennen, ist mit der aktuellen Wahlperiode der Anteil an Frauen im Bundestag deutlich zurückgegangen. Die Anteil an Frauen im aktuellen Bundestag beträgt aktuell 30,7 %.</p>

</div>
</div>
<h3>Literatur- und Quellverzeichnis</h3>
<div id="refs" class="references">
<div id="ref-vaughan_2018">
<p>Vaughan, Davis/Dancho, Matt (2018): Furrr: Apply Mapping Functions in Parallel Using Futures. Text abrufbar unter: <a href="https://CRAN.R-project.org/package=furrr">https://CRAN.R-project.org/package=furrr</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p><a href="https://www.bundestag.de/service/opendata" class="uri">https://www.bundestag.de/service/opendata</a><a href="data-02.html#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p><a href="https://www.bundestag.de/ajax/filterlist/de/service/opendata/-/543410?offset=0" class="uri">https://www.bundestag.de/ajax/filterlist/de/service/opendata/-/543410?offset=0</a><a href="data-02.html#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><a href="https://www.bundestag.de/service/opendata" class="uri">https://www.bundestag.de/service/opendata</a><a href="data-02.html#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p>Eine Ausnahme ist etwa der Politiker Christian Schenk, welcher sich nach seiner Zeit im Bundestag als Transmann outete und eine Geschlechtsumwandlung vollzog.<a href="data-02.html#fnref4" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-01.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="auswertung.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["bundestag.pdf", "bundestag.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
